<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ShanzeyX – Series</title>

  <!-- Video.js (Netflix-like player base) -->
  <link href="https://vjs.zencdn.net/8.9.0/video-js.css" rel="stylesheet">
  <script src="https://vjs.zencdn.net/8.9.0/video.min.js"></script>

  <style>
    :root{
      --bg:#0b0c10; --bg-soft:#111318; --card:#151821; --txt:#e6e6e6; --muted:#9aa0a6; --accent:#e50914;
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--txt);font-family:system-ui,Segoe UI,Roboto,Inter,Arial}
    a{color:inherit;text-decoration:none}
    .container{max-width:1280px;margin:0 auto;padding:0 16px}

    /* Header */
    header{position:sticky;top:0;z-index:30;background:linear-gradient(0deg,transparent,rgba(0,0,0,.6) 40%,rgba(0,0,0,.9));backdrop-filter:saturate(140%) blur(4px)}
    .nav{display:flex;align-items:center;gap:14px;padding:10px 0}
    .brand{display:flex;align-items:center;gap:10px;font-weight:700;letter-spacing:.5px}
    .brand .dot{width:10px;height:10px;border-radius:50%;background:var(--accent);box-shadow:0 0 10px var(--accent)}
    .search{margin-left:auto;display:flex;gap:8px}
    .search input{background:#222631;border:1px solid #2d3341;color:var(--txt);padding:9px 12px;border-radius:10px;min-width:260px}
    .credit{font-size:12px;color:#c7ffd9;background:#112417;border:1px solid #1a3b2a;padding:6px 10px;border-radius:999px;white-space:nowrap}

    /* Hero */
    .hero{position:relative;min-height:52vh;border-radius:18px;overflow:hidden;background:#0f111a;margin:14px 0 6px}
    .hero img,.hero video{width:100%;height:100%;object-fit:cover;filter:brightness(.62)}
    .hero .overlay{position:absolute;inset:0;padding:28px;display:flex;flex-direction:column;justify-content:flex-end;gap:14px;background:linear-gradient(180deg,transparent 20%,rgba(0,0,0,.55) 55%, rgba(0,0,0,.85))}
    .title{font-size:clamp(24px,4vw,44px);font-weight:800}
    .muted{color:var(--muted)}
    .btns{display:flex;gap:10px;flex-wrap:wrap}
    .btn{background:var(--txt);color:#111;padding:12px 18px;border-radius:999px;font-weight:700;display:flex;align-items:center;gap:10px;border:0;cursor:pointer}
    .btn.secondary{background:transparent;color:var(--txt);border:1px solid #2b2f3a}
    .btn .tri{width:0;height:0;border-left:10px solid #111;border-top:7px solid transparent;border-bottom:7px solid transparent}
    .btn.play{background:var(--accent);color:#fff}
    .chip{font-size:12px;padding:6px 10px;border:1px solid #2b2f3a;border-radius:999px}

    /* Rows */
    .row{margin:18px 0}
    .row h3{margin:0 0 10px;font-size:18px}
    .rail{display:grid;grid-auto-flow:column;grid-auto-columns:15rem;gap:12px;overflow-x:auto;padding-bottom:4px;scrollbar-width:none}
    .card{position:relative;border-radius:14px;overflow:hidden;background:var(--card);cursor:pointer;transition:.25s transform}
    .card:hover{transform:translateY(-3px)}
    .thumb{aspect-ratio:16/9;width:100%;object-fit:cover}
    .tag{position:absolute;inset:auto 8px 8px auto;background:rgba(0,0,0,.65);padding:4px 8px;border-radius:8px;font-size:12px}
    .meta{padding:10px 8px;color:#cfd3da;font-size:13px;display:flex;justify-content:space-between;gap:8px}

    /* Player Modal */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.75);display:none;align-items:center;justify-content:center;z-index:50}
    .modal.open{display:flex}
    .modal-inner{width:min(92vw,1050px);background:#000;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.5);overflow:hidden}
    .player-header{display:flex;justify-content:space-between;align-items:center;padding:10px 14px;color:#bfc5d0;background:#0d0f14}
    .xbtn{background:#1a1f2b;border:1px solid #2b3346;color:#cfd3da;border-radius:10px;padding:7px 10px;cursor:pointer}
    .vjs-theme{--vjs-control-bg:#0f1320}
    .video-js{width:100%;height:60vh;background:#000}
    .player-footer{display:flex;justify-content:space-between;align-items:center;padding:10px 14px;background:#0d0f14;color:#bfc5d0;font-size:13px}
    .pill{border:1px solid #2b3346;border-radius:999px;padding:6px 10px}
    .next{background:var(--accent);color:#fff;border:0;border-radius:999px;padding:8px 12px;cursor:pointer}

    /* Footer */
    footer{margin:22px 0 30px;color:#9fb0ff44}
    footer .credit{display:inline-block;background:#141827;border-color:#26304b}

    @media (max-width:700px){
      .rail{grid-auto-columns:13rem}
      .search input{min-width:160px}
    }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand"><span class="dot"></span> ShanzeyX</div>
      <div class="search">
        <input id="search" placeholder="Search movies & series..." />
        <div class="credit">Made by <b>Fahad</b> for <b>Shanzey</b> ♥</div>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Hero -->
    <section class="hero" id="hero">
      <img src="https://images.unsplash.com/photo-1517602302552-471fe67acf66?q=80&w=1600&auto=format&fit=crop" alt="Hero">
      <div class="overlay">
        <div class="chip">Featured</div>
        <div class="title" id="heroTitle">Sample Feature</div>
        <div class="muted">1080p • Drama • 1h 42m</div>
        <div class="btns">
          <button class="btn play" id="heroPlay"><span class="tri"></span> Play</button>
          <button class="btn secondary" onclick="addToMyList()">+ My List</button>
        </div>
      </div>
    </section>

    <!-- Rows -->
    <section class="row">
      <h3>Continue Watching</h3>
      <div class="rail" id="rowContinue"></div>
    </section>

    <section class="row">
      <h3>Trending Now</h3>
      <div class="rail" id="rowTrending"></div>
    </section>

    <section class="row">
      <h3>New Releases</h3>
      <div class="rail" id="rowNew"></div>
    </section>
  </main>

  <footer class="container">
    <div class="credit">Made by <b>Fahad</b> for <b>Shanzey</b> ♥</div>
  </footer>

  <!-- Player Modal -->
  <div class="modal" id="playerModal" aria-hidden="true">
    <div class="modal-inner">
      <div class="player-header">
        <div id="nowTitle">Playing</div>
        <button class="xbtn" onclick="closePlayer()">✕ Close</button>
      </div>

      <video id="player" class="video-js vjs-default-skin vjs-big-play-centered" controls preload="auto" playsinline></video>

      <div class="player-footer">
        <div class="pill" id="timeHint">00:00</div>
        <div style="display:flex; gap:8px; align-items:center">
          <button class="pill" onclick="skipIntro()">⏭ Skip intro</button>
          <button class="next" id="nextBtn" onclick="playNext()">Next episode ▶</button>
        </div>
      </div>
    </div>
  </div>

<script>
/* ===================== DATA ===================== */
/* Replace these src with your R2 links (mp4 for now). */
const CDN = "https://series.shanzeyxfahad.lol";
const LIB = [
  {
    id:"samp1",
    title:"Pretty Little Baby (1962) – Test",
    thumb:"https://images.unsplash.com/photo-1524253482453-3fed8d2fe12b?q=80&w=1200&auto=format&fit=crop",
    src:`${CDN}/pretty_little_baby.mp4`,
    duration:181,
    intro:{start:3,end:18},
    series:{season:1, episode:1, next:"samp2"}
  },
  {
    id:"samp2",
    title:"Sample Episode 2",
    thumb:"https://images.unsplash.com/photo-1514525253161-7a46d19cd819?q=80&w=1200&auto=format&fit=crop",
    src:`${CDN}/episode2.mp4`,
    duration:200,
    intro:{start:0,end:12},
    series:{season:1, episode:2, next:null}
  }
];

/* ===================== RENDER ===================== */
const $ = s=>document.querySelector(s);
const rowContinue=$("#rowContinue"), rowTrending=$("#rowTrending"), rowNew=$("#rowNew");

function cardHTML(v){
  return `
  <article class="card" onclick="openPlayer('${v.id}')" title="${v.title}">
    <img class="thumb" src="${v.thumb}" alt="${v.title}">
    <div class="tag">${fmtTime(getProgress(v.id))}</div>
    <div class="meta"><span>${v.title}</span><span>HD</span></div>
  </article>`;
}
function render(){
  rowContinue.innerHTML = LIB.map(cardHTML).join("");
  rowTrending.innerHTML = LIB.slice().reverse().map(cardHTML).join("");
  rowNew.innerHTML = LIB.map(cardHTML).join("");
  $("#heroTitle").textContent = LIB[0].title;
  $("#heroPlay").onclick = ()=>openPlayer(LIB[0].id);
}
render();

/* ===================== PLAYER ===================== */
let player, current=null;
function openPlayer(id){
  current = LIB.find(x=>x.id===id);
  if(!player){
    player = videojs('player',{
      fluid:true,
      controlBar:{ pictureInPictureToggle:true, fullscreenToggle:true },
    });
    player.on('timeupdate', ()=>{
      saveProgress(current.id, player.currentTime());
      $("#timeHint").textContent = fmtTime(player.currentTime());
      // auto next
      if(player.remainingTime()<=0.25 && current.series?.next){
        playNext();
      }
    });
  }
  $("#nowTitle").textContent = current.title;
  player.src({src: current.src, type: 'video/mp4'});
  player.currentTime(getProgress(current.id));
  $("#playerModal").classList.add('open');
  player.play();
}
function closePlayer(){ $("#playerModal").classList.remove('open'); if(player) player.pause(); }
function playNext(){ if(!current?.series?.next) return; openPlayer(current.series.next); }
function skipIntro(){
  const intro=current?.intro;
  if(intro) { player.currentTime(intro.end || 0); }
}

/* ===================== CONTINUE WATCHING ===================== */
function key(k){ return `watch_${k}`; }
function saveProgress(id,t){ try{ localStorage.setItem(key(id), String(t)); }catch{} }
function getProgress(id){ return Number(localStorage.getItem(key(id))||0); }
function fmtTime(s){
  s=Math.max(0,Math.floor(s||0)); const m=String(Math.floor(s/60)).padStart(2,'0'), ss=String(s%60).padStart(2,'0'); return `${m}:${ss}`;
}
function addToMyList(){ alert("Added to My List ❤️"); }

/* ===================== SEARCH ===================== */
$("#search").addEventListener('input', e=>{
  const q = e.target.value.toLowerCase();
  const filtered = LIB.filter(v=>v.title.toLowerCase().includes(q));
  rowTrending.innerHTML = filtered.map(cardHTML).join("") || "<div class='muted'>No results</div>";
});
</script>
</body>
</html>
